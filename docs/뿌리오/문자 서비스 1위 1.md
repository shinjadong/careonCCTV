---
title: "문자 서비스 1위"
source: "https://www.ppurio.com/send-api/develop"
author:
  - "[[뿌리오]]"
published:
created: 2025-09-26
description: "단체문자 1위 뿌리오! 대량문자, RCS, 포토문자, 후불문자, 예약문자, API연동, 알림톡/브랜드메시지까지!"
tags:
  - "clippings"
---
/**
 * AccessToken 요청 (한 번 발급된 토큰은 24시간동안 유효합니다.)
 */
function getToken() {
    $token_url = 'https://message.ppurio.com/v1/token';
    $account = '{뿌리오계정}';
    $access_key = '{연동 개발 인증키}';
    $headers = array(
        'Authorization: Basic ' . base64_encode($account . ':' . $access_key)
    );

    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $token_url);
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_POST, true);

    // API 요청 실행
    $response = curl_exec($ch);

    // 응답 출력
    $response = json_decode($response, true);

    // cURL 세션 종료
    curl_close($ch);
}

/**
 * 카카오(알림톡) 발송 요청
 */
function sendMessage() {
    $api_url = 'https://message.ppurio.com/v1/kakao';
    $token = getToken();
    $account = '{뿌리오계정}';
    $senderProfile = '{발신프로필명}';
    $templateCode = '{뿌리오에 등록된 알림톡템플릿코드}';

    $target = array(
        array(
            'to' => '01012341234',
            'name' => 'Kildong Hong',
            'changeWord' => array(
                'var1' => '10,000',
            )
        )
    );

    $resend = array(
        array(
            'messageType' => 'SMS',
            'from' => '01012341234',
            'name' => 'Kildong Hong',
            'subject' => 'sms test',
            'content' => 'hello this is sms test',
        )
    );

    // JSON 형식의 파라미터 데이터 생성
    $send_data = array(
        'account' => $account, // 뿌리오 계정
        'messageType' => 'ALI', //
        'senderProfile' => $senderProfile, // 발신프로필
        'templateCode' => $templateCode, // 뿌리오에 등록된 알림톡 템플릿 코드
        'duplicateFlag' => 'N', // 수신번호 중복허용 여부 (Y:허용 / N:제거)
        'targetCount' => count($target), // 수신자 목록 수
        'targets' => $target, // 수신자 및 치환문자 정보
        'isResend' => 'Y', // 대체발송 여부
        'resend' => $resend, // 대체발송 정보
        'refKey' => 'test', // 요청에 부여한 키
    );

    $jsonData = json_encode($send_data);

    // 커스텀 헤더 설정
    $headers = array(
        'Authorization: Bearer ' . $token,
        'Content-Type: application/json',
    );

    // cURL 초기화
    $ch = curl_init();

    // cURL 옵션 설정
    curl_setopt($ch, CURLOPT_URL, $api_url);
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_POST, true);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $jsonData);
    // API 요청 실행
    $response = curl_exec($ch);

    // cURL 세션 종료
    curl_close($ch);

    // 응답 출력
    $response = json_decode($response, true);
}

/**
 * 예약발송 취소 요청
 */
function cancelMessage() {
    $api_url = 'https://message.ppurio.com/v1/cancel/kakao';
    $token = '******';

    // JSON 형식의 파라미터 데이터 생성
    $cancel_data = array(
        'account' => 'account',
        'messageKey' => '230801174858446SMS1098285servWZqt',
    );

    $jsonData = json_encode($cancel_data);

    // 커스텀 헤더 설정
    $headers = array(
        'Authorization: Bearer ' . $token,
        'Content-Type: application/json',
    );

    // cURL 초기화
    $ch = curl_init();

    // cURL 옵션 설정
    curl_setopt($ch, CURLOPT_URL, $api_url);
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_POST, true);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $jsonData);

    // API 요청 실행
    $response = curl_exec($ch);

    // cURL 세션 종료
    curl_close($ch);

    // 응답 출력
    $response = json_decode($response, true);
    echo print_r($response, true);
}

// sendMessage 메서드 호출
sendMessage();

// cancelMessage 메서드 호출
cancelMessage();